local Players = game:GetService("Players") local player = Players.LocalPlayer local gui = Instance.new("ScreenGui") gui.Name = "HealToggleGui" gui.ResetOnSpawn = false gui.Parent = player:WaitForChild("PlayerGui") local toggleBtn = Instance.new("TextButton") toggleBtn.Size = UDim2.new(0, 140, 0, 50) toggleBtn.Position = UDim2.new(0.4, 0, 0.75, 0) toggleBtn.Text = "Heal: OFF" toggleBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50) toggleBtn.TextColor3 = Color3.new(1, 1, 1) toggleBtn.Font = Enum.Font.GothamBold toggleBtn.TextSize = 20 toggleBtn.AutoButtonColor = true toggleBtn.Parent = gui -- Dragging local dragging = false local dragStart, startPos local function updateInput(input) local delta = input.Position - dragStart toggleBtn.Position = UDim2.new( startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y ) end toggleBtn.InputBegan:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then dragging = true dragStart = input.Position startPos = toggleBtn.Position input.Changed:Connect(function() if input.UserInputState == Enum.UserInputState.End then dragging = false end end) end end) toggleBtn.InputChanged:Connect(function(input) if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then updateInput(input) end end) -- Healing logic local healing = false local function healPlayer() while healing do local character = player.Character or player.CharacterAdded:Wait() local humanoid = character:FindFirstChildWhichIsA("Humanoid") if humanoid then local healAmount = humanoid.MaxHealth * 0.15 humanoid.Health = math.min(humanoid.Health + healAmount, humanoid.MaxHealth) end task.wait(1) end end local function toggleHealing() healing = not healing toggleBtn.Text = healing and "Heal: ON" or "Heal: OFF" if healing then task.spawn(healPlayer) end end -- Use Activated to handle mouse, touch, and gamepad consistently toggleBtn.Activated:Connect(toggleHealing)
